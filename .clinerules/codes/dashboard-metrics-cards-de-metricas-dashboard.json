{
  "id": "dashboard-metrics",
  "title": "Cards de Métricas Dashboard",
  "tech": "React",
  "language": "typescript",
  "description": "Componentes para exibir KPIs principais do dashboard",
  "content_type": "code",
  "card_type": "codigos",
  "screens": [
    {
      "name": "Installation",
      "description": "Dependências e configuração inicial",
      "route": "cards/dashboard-metrics/installation",
      "order": 0,
      "blocks": [
        {
          "id": "a51d4f79-244a-4d90-be2e-fc03450b4db1",
          "type": "code",
          "title": "Installation",
          "language": "typescript",
          "order": 0,
          "content": "# 1. Instalar Dependências\n        npm install @radix-ui/react-slot lucide-react class-variance-authority\n\n        # 2. Configurar Tailwind CSS\n        # Certifique-se de que o Tailwind CSS está configurado no seu projeto\n\n        # 3. Adicionar Componentes\n        # Copie os componentes Card e Button do shadcn/ui para seu projeto\n\n        # 4. Implementar API\n        # Crie o endpoint /api/dashboard conforme mostrado na aba API"
        }
      ]
    },
    {
      "name": "Component",
      "description": "Componente principal dos cards de métricas",
      "route": "cards/dashboard-metrics/component",
      "order": 1,
      "blocks": [
        {
          "id": "b3c27b2c-baf7-493e-b49e-da64b0370c5f",
          "type": "code",
          "title": "Component",
          "language": "typescript",
          "order": 0,
          "content": "import React from 'react';\n        import { Card, CardContent } from '@/components/ui/card';\n        import { TrendingUp, TrendingDown, Users, Percent } from 'lucide-react';\n\n        interface MetricCardProps {\n          title: string;\n          value: string;\n          change: string;\n          changeType: 'positive' | 'negative' | 'neutral';\n          icon: 'revenue' | 'users' | 'conversion';\n        }\n\n        const iconMap = {\n          revenue: TrendingUp,\n          users: Users,\n          conversion: Percent,\n        };\n\n        const colorMap = {\n          positive: {\n            text: 'text-green-600',\n            bg: 'bg-green-100',\n            icon: 'text-green-600'\n          },\n          negative: {\n            text: 'text-red-600',\n            bg: 'bg-red-100',\n            icon: 'text-red-600'\n          },\n          neutral: {\n            text: 'text-gray-600',\n            bg: 'bg-gray-100',\n            icon: 'text-gray-600'\n          }\n        };\n\n        export function MetricCard({ \n          title, \n          value, \n          change, \n          changeType, \n          icon \n        }: MetricCardProps) {\n          const IconComponent = iconMap[icon];\n          const colors = colorMap[changeType];\n\n          return (\n            <Card className=\"hover:shadow-lg transition-shadow\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-600\">{title}</p>\n                    <p className=\"text-2xl font-bold text-gray-900\">{value}</p>\n                  </div>\n                  <div className={`h-12 w-12 ${colors.bg} rounded-full flex items-center justify-center`}>\n                    <IconComponent className={`h-6 w-6 ${colors.icon}`} />\n                  </div>\n                </div>\n                <p className={`text-xs ${colors.text} mt-2`}>{change}</p>\n              </CardContent>\n            </Card>\n          );\n        }\n\n        // Uso do componente\n        export function DashboardMetrics() {\n          const metrics = [\n            {\n              title: \"Receita Total\",\n              value: \"R$ 45.231,89\",\n              change: \"+20.1% em relação ao mês anterior\",\n              changeType: \"positive\" as const,\n              icon: \"revenue\" as const\n            },\n            {\n              title: \"Novos Usuários\",\n              value: \"+2,350\",\n              change: \"+180 nas últimas 24 horas\",\n              changeType: \"positive\" as const,\n              icon: \"users\" as const\n            },\n            {\n              title: \"Taxa de Conversão\",\n              value: \"3.2%\",\n              change: \"+0.4% em relação à semana anterior\",\n              changeType: \"positive\" as const,\n              icon: \"conversion\" as const\n            }\n          ];\n\n          return (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              {metrics.map((metric, index) => (\n                <MetricCard key={index} {...metric} />\n              ))}\n            </div>\n          );\n        }"
        }
      ]
    },
    {
      "name": "Types",
      "description": "Definições de tipos TypeScript",
      "route": "cards/dashboard-metrics/types",
      "order": 2,
      "blocks": [
        {
          "id": "834c98fd-95c9-4336-bc59-3526621fbc44",
          "type": "code",
          "title": "Types",
          "language": "typescript",
          "order": 0,
          "content": "// types/dashboard.ts\n        export interface DashboardMetric {\n          id: string;\n          title: string;\n          value: number | string;\n          change: number;\n          changeType: 'positive' | 'negative' | 'neutral';\n          icon: 'revenue' | 'users' | 'conversion' | 'orders';\n          format: 'currency' | 'number' | 'percentage';\n        }\n\n        export interface DashboardData {\n          metrics: DashboardMetric[];\n          charts: ChartData[];\n          tables: TableData[];\n          lastUpdated: Date;\n        }\n\n        export interface ChartData {\n          id: string;\n          title: string;\n          type: 'line' | 'bar' | 'pie' | 'area';\n          data: Array<{\n            name: string;\n            value: number;\n            [key: string]: any;\n          }>;\n        }\n\n        export interface TableData {\n          id: string;\n          title: string;\n          headers: string[];\n          rows: Array<Record<string, any>>;\n          pagination?: {\n            page: number;\n            limit: number;\n            total: number;\n          };\n        }\n\n        // Utility types\n        export type MetricChangeType = 'positive' | 'negative' | 'neutral';\n        export type MetricIconType = 'revenue' | 'users' | 'conversion' | 'orders';\n        export type MetricFormatType = 'currency' | 'number' | 'percentage';"
        }
      ]
    },
    {
      "name": "Hooks",
      "description": "Hook customizado para buscar dados do dashboard",
      "route": "cards/dashboard-metrics/hooks",
      "order": 3,
      "blocks": [
        {
          "id": "27c44129-05f3-4356-a267-e0c9753442ab",
          "type": "code",
          "title": "Hooks",
          "language": "typescript",
          "order": 0,
          "content": "import { useState, useEffect } from 'react';\n        import { DashboardData, DashboardMetric } from '../types/dashboard';\n\n        interface UseDashboardOptions {\n          refreshInterval?: number;\n          autoRefresh?: boolean;\n        }\n\n        export function useDashboard(options: UseDashboardOptions = {}) {\n          const { refreshInterval = 30000, autoRefresh = true } = options;\n          \n          const [data, setData] = useState<DashboardData | null>(null);\n          const [loading, setLoading] = useState(true);\n          const [error, setError] = useState<string | null>(null);\n          const [lastUpdated, setLastUpdated] = useState<Date | null>(null);\n\n          const fetchDashboardData = async () => {\n            try {\n              setLoading(true);\n              setError(null);\n              \n              const response = await fetch('/api/dashboard');\n              if (!response.ok) {\n                throw new Error('Erro ao buscar dados do dashboard');\n              }\n              \n              const dashboardData = await response.json();\n              setData(dashboardData);\n              setLastUpdated(new Date());\n            } catch (err) {\n              setError(err instanceof Error ? err.message : 'Erro desconhecido');\n            } finally {\n              setLoading(false);\n            }\n          };\n\n          useEffect(() => {\n            fetchDashboardData();\n            \n            if (autoRefresh) {\n              const interval = setInterval(fetchDashboardData, refreshInterval);\n              return () => clearInterval(interval);\n            }\n          }, [refreshInterval, autoRefresh]);\n\n          const refreshData = () => {\n            fetchDashboardData();\n          };\n\n          return {\n            data,\n            loading,\n            error,\n            lastUpdated,\n            refreshData,\n          };\n        }"
        }
      ]
    },
    {
      "name": "API",
      "description": "Endpoint da API para dados do dashboard",
      "route": "cards/dashboard-metrics/api",
      "order": 4,
      "blocks": [
        {
          "id": "83517e46-7a41-43f7-bcce-36743e092049",
          "type": "code",
          "title": "API",
          "language": "typescript",
          "order": 0,
          "content": "// app/api/dashboard/route.ts\n        import { NextResponse } from 'next/server';\n        import { DashboardData } from '@/types/dashboard';\n\n        export async function GET() {\n          try {\n            // Simular busca de dados do banco\n            const dashboardData: DashboardData = {\n              metrics: [\n                {\n                  id: '1',\n                  title: 'Receita Total',\n                  value: 'R$ 45.231,89',\n                  change: 20.1,\n                  changeType: 'positive',\n                  icon: 'revenue',\n                  format: 'currency'\n                },\n                {\n                  id: '2',\n                  title: 'Novos Usuários',\n                  value: '+2,350',\n                  change: 15.3,\n                  changeType: 'positive',\n                  icon: 'users',\n                  format: 'number'\n                },\n                {\n                  id: '3',\n                  title: 'Taxa de Conversão',\n                  value: '3.2%',\n                  change: 0.4,\n                  changeType: 'positive',\n                  icon: 'conversion',\n                  format: 'percentage'\n                }\n              ],\n              charts: [],\n              tables: [],\n              lastUpdated: new Date()\n            };\n\n            return NextResponse.json(dashboardData);\n          } catch (error) {\n            console.error('Erro ao buscar dados do dashboard:', error);\n            return NextResponse.json(\n              { error: 'Erro interno do servidor' },\n              { status: 500 }\n            );\n          }\n        }"
        }
      ]
    }
  ]
}